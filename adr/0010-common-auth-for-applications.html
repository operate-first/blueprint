
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Common Authentication for Applications &#8212; Operate First - Blueprint</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Managing Operators" href="0011-operators.html" />
    <link rel="prev" title="Declarative Definitions for Cluster Scoped Resources" href="0009-cluster-resources.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-178212082-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Operate First - Blueprint</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    Operate First Blueprint
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ADRs
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0000-use-markdown-architectural-decision-records.html">
   Use Markdown Architectural Decision Records
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0001-use-gpl3-as-license.html">
   Use GNU GPL as license
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0003-feature-selection-policy.html">
   Users of an Operate First deployment might need different features than provided by upstream project’s release
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0004-argocd-apps-of-apps-structure.html">
   ArgoCD Apps of Apps Structure
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0005-support-multi-environments-in-repos.html">
   Repositories Supporting Multiple Environment Deployments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0006-monitoring-structure.html">
   Application Monitoring in Operate First using Prometheus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0007-alerting-setup.html">
   Alerting Setup for Operate First Monitoring
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0008-secrets-management.html">
   GitOPS and Secrets Management
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0009-cluster-resources.html">
   Declarative Definitions for Cluster Scoped Resources
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Common Authentication for Applications
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0011-operators.html">
   Managing Operators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0012-moc-infra-cluster-deployment-methods.html">
   Cluster deployment methods for moc-infra cluster
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0013-multicluster-environments.html">
   Cluster deployment methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0014-enforcing-resource-quotas.html">
   Enforcing of Resource Quotas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0015-cluster-resources-amendment.html">
   Declarative Definitions for Cluster Scoped Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0016-pr-review.html">
   Reviewing Pull Requests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0017-authentication-for-platform.html">
   Authentication for all platform environments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0018-migration-to-keycloak.html">
   Authentication migration to Keycloak
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0019-org-management.html">
   Maintaining GitHub organization as a code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0020-service-catalog.html">
   Provide a service catalog
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0021-sre-cloud-support.html">
   Operate First Community Cloud support process
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="0022-rules-for-entity-mapping-in-service-catalog.html">
   Rules for entity mapping in Service Catalog
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Environments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../environments/operate_first.html">
   Operate First Environment
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/operate-first/blueprint"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/operate-first/blueprint/issues/new?title=Issue%20on%20page%20%2Fadr/0010-common-auth-for-applications.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/adr/0010-common-auth-for-applications.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#context-and-problem-statement">
   Context and Problem Statement
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#decision-drivers">
   Decision Drivers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#considered-options">
   Considered Options
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#decision-outcome">
   Decision Outcome
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#positive-consequences">
     Positive Consequences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#negative-consequences">
     Negative Consequences
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pros-and-cons-of-the-options">
   Pros and Cons of the Options
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argo-cd-embedded-dex-server">
     Argo CD embedded Dex server
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standalone-dex-server-in-a-separate-namespace">
     Standalone Dex server in a separate namespace
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standalone-dex-server-via-an-operator">
     Standalone Dex server via an operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keycloak-server-via-an-operator">
     Keycloak server via an operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#openshift-oauth-server-directly">
     OpenShift Oauth server directly
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#links">
   Links
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Common Authentication for Applications</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#context-and-problem-statement">
   Context and Problem Statement
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#decision-drivers">
   Decision Drivers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#considered-options">
   Considered Options
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#decision-outcome">
   Decision Outcome
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#positive-consequences">
     Positive Consequences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#negative-consequences">
     Negative Consequences
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pros-and-cons-of-the-options">
   Pros and Cons of the Options
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argo-cd-embedded-dex-server">
     Argo CD embedded Dex server
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standalone-dex-server-in-a-separate-namespace">
     Standalone Dex server in a separate namespace
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standalone-dex-server-via-an-operator">
     Standalone Dex server via an operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#keycloak-server-via-an-operator">
     Keycloak server via an operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#openshift-oauth-server-directly">
     OpenShift Oauth server directly
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#links">
   Links
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="common-authentication-for-applications">
<h1>Common Authentication for Applications<a class="headerlink" href="#common-authentication-for-applications" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>Status: accepted</p></li>
<li><p>Deciders: tumido, HumairAK, anishasthana, 4n4nd</p></li>
<li><p>Date: 2021-01-19</p></li>
</ul>
<p>Technical Story: <a class="reference external" href="https://github.com/open-infrastructure-labs/ops-issues/issues/10">issue-1</a>, <a class="reference external" href="https://github.com/operate-first/apps/issues/65">issue-2</a>, <a class="reference external" href="https://github.com/operate-first/apps/issues/48">issue-3</a>, <a class="reference external" href="https://github.com/operate-first/apps/issues/47">issue-4</a>, <a class="reference external" href="https://github.com/operate-first/apps/issues/39">issue-5</a>, <a class="reference external" href="https://github.com/operate-first/apps/issues/37">issue-6</a></p>
<section id="context-and-problem-statement">
<h2>Context and Problem Statement<a class="headerlink" href="#context-and-problem-statement" title="Permalink to this headline">#</a></h2>
<p>Applications deployed within Operate First are run on top of OpenShift. Many applications require users to log in in order to be able to enforce RBAC, quotas and sandboxing. It is also essential for auditing. User management of the applications should be unified so the same user can access all the applications with a single set of credentials. The username should be unique, but also utilized across applications. The accepted solution should provide SSO, so the user can cary over the identity across different applications. The identity and authentication should be based on the OpenShift authentication.</p>
</section>
<section id="decision-drivers">
<h2>Decision Drivers<a class="headerlink" href="#decision-drivers" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>For the same user a single user identity is provided to all applications.</p></li>
<li><p>All users are able to authenticate using the same credentials as they use for the underlying OpenShift platform.</p></li>
<li><p>User identity provided by the SSO allows for similar RBAC settings across different applications.</p></li>
</ul>
</section>
<section id="considered-options">
<h2>Considered Options<a class="headerlink" href="#considered-options" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>ArgoCD embedded Dex server</p></li>
<li><p>Standalone Dex server in a separate namespace</p></li>
<li><p>Keycloak server via a Keycloak operator</p></li>
<li><p>OpenShift Oauth server</p></li>
</ol>
</section>
<section id="decision-outcome">
<h2>Decision Outcome<a class="headerlink" href="#decision-outcome" title="Permalink to this headline">#</a></h2>
<p>Chosen option: <em>“2. Standalone Dex server in a separate namespace”</em>, because</p>
<section id="positive-consequences">
<h3>Positive Consequences<a class="headerlink" href="#positive-consequences" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Each Operate First application can consume user identity for all SSO authenticated users.</p></li>
<li><p>Applications don’t have to care about user management.</p></li>
<li><p>SSO allows us to share the RBAC rules between applications in similar contexts since the user identity structure (LDAP groups, etc.) is the same.</p></li>
</ul>
</section>
<section id="negative-consequences">
<h3>Negative Consequences<a class="headerlink" href="#negative-consequences" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Introduces a single point of failure for all user authentications.</p></li>
</ul>
</section>
</section>
<section id="pros-and-cons-of-the-options">
<h2>Pros and Cons of the Options<a class="headerlink" href="#pros-and-cons-of-the-options" title="Permalink to this headline">#</a></h2>
<section id="argo-cd-embedded-dex-server">
<h3>Argo CD embedded Dex server<a class="headerlink" href="#argo-cd-embedded-dex-server" title="Permalink to this headline">#</a></h3>
<p>Lives within the Argo CD deployment. Argo CD implements its own wrapper around Dex configuration and deployment, which may prove to be difficult to adjust to application specific usage.</p>
<p>Dex server can provide OpenID identity, can connect to variety OpenID Connect identity sources connectors (Openshift, Github, Google, SSO providers, etc.) and since it’s confined to its own namespace it allows for easier SRE as well as future expansion with client database for identity carry over between applications.</p>
<ul class="simple">
<li><p>Good, because it is already prepared and available and proved to work with ArgoCD.</p></li>
<li><p>Good, because it is a lightweight bridge solution to existing OpenID Connect providers.</p></li>
<li><p>Bad, because it’s not isolated to a separate namespace and doesn’t allow full control over the Dex configuration.</p></li>
<li><p>Bad, because the deployed Dex server version depends on what Dex version is packaged for ArgoCD by ArgoCD configurator wrapper.</p></li>
</ul>
</section>
<section id="standalone-dex-server-in-a-separate-namespace">
<h3>Standalone Dex server in a separate namespace<a class="headerlink" href="#standalone-dex-server-in-a-separate-namespace" title="Permalink to this headline">#</a></h3>
<p>This option allows us to keep all the benefits of a Dex server without compromising ArgoCD stability/reliability.</p>
<ul class="simple">
<li><p>Good, because configuration is fully in our control as well as Dex version used.</p></li>
<li><p>Good, because of the isolation, can be scaled and restricted by quotas.</p></li>
<li><p>Good, because it is a lightweight bride solution to existing OpenID connect providers.</p></li>
</ul>
</section>
<section id="standalone-dex-server-via-an-operator">
<h3>Standalone Dex server via an operator<a class="headerlink" href="#standalone-dex-server-via-an-operator" title="Permalink to this headline">#</a></h3>
<p>This option allows us to keep all the benefits of a Dex server without compromising Argo CD stability/reliability. It also simplifies management duties, since it can be managed declaratively via custom resources.</p>
<ul class="simple">
<li><p>Good, because configuration is fully in our control as well as Dex version used</p></li>
<li><p>Good, because of the isolation, can be scaled and restricted by quotas</p></li>
<li><p>Good, because it is a lightweight bride solution to existing OpenID connect providers</p></li>
<li><p>Good, because it is easy to configure via custom resources.</p></li>
<li><p>Bad, because there are only 2 community implementation, no official one.</p></li>
<li><p>Bad, because neither of the currently available Dex operator implementations are maintained.</p></li>
</ul>
<p>In the end, this would be the preferred solution, if there was a reliable implementation available.</p>
</section>
<section id="keycloak-server-via-an-operator">
<h3>Keycloak server via an operator<a class="headerlink" href="#keycloak-server-via-an-operator" title="Permalink to this headline">#</a></h3>
<p>Keycloak is a heavy duty identity provided and access management. It can be installed via a Kubernetes operator and can be managed declaratively via custom resources. It can do all the identity provider bridging provided by Dex as well as many more like provide identity on its own, manage LDAP etc.</p>
<ul class="simple">
<li><p>Good, because it is easy to configure via custom resources.</p></li>
<li><p>Bad, because it is heavy weight, resource intensive solution, requiring external database and other components which may prove to be difficult to use in edge/dev cluster setting.</p></li>
</ul>
</section>
<section id="openshift-oauth-server-directly">
<h3>OpenShift Oauth server directly<a class="headerlink" href="#openshift-oauth-server-directly" title="Permalink to this headline">#</a></h3>
<p>Use OpenShift Oauth directly. This option provides means to authenticate against OpenShift, however OpenShift itself doesn’t provide OpenID identity and relies on external sources.</p>
<ul class="simple">
<li><p>Good, because it is already available in the platform and no setup is needed.</p></li>
<li><p>Bad, because we are lacking the essential - there’s no identity provided. Only authentication.</p></li>
<li><p>Bad, because applications usually require identity to be provided no matter if user is authenticated.</p></li>
</ul>
</section>
</section>
<section id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://medium.com/&#64;sct10876/keycloak-vs-dex-71f7fab29919">Keycloak vs. Dex</a></p></li>
</ul>
<!-- markdownlint-disable-file MD013 -->
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./adr"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="0009-cluster-resources.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Declarative Definitions for Cluster Scoped Resources</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="0011-operators.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Managing Operators</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Operate First<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>